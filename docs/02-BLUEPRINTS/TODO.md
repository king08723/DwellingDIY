# TODO List - "自己装"装修协同平台 MVP

## Epic: 用户身份与权限管理

- **User Story:** 作为一个新用户，我希望能够注册账号并选择我的角色（项目经理/业主/工人），以便系统能为我提供对应的功能权限。
  - **Acceptance Criteria:**
    - [ ] 支持手机号+验证码注册登录
    - [ ] 首次登录后必须选择角色（PM/业主/工人）
    - [ ] 不同角色看到不同的功能菜单和权限
    - [ ] 用户可以编辑个人信息（头像、昵称）
    - [ ] 登录状态保持，下次打开自动登录

- **User Story:** 作为系统管理员，我希望能够管理用户角色和权限，以确保平台安全运行。
  - **Acceptance Criteria:**
    - [ ] 每个用户只能选择一种主要角色
    - [ ] 角色权限清晰分离，无越权访问
    - [ ] 支持角色信息的后续修改（如有需要）

## Epic: 项目创建与团队组建

- **User Story:** 作为项目经理，我希望能够创建新的装修项目并邀请业主加入，以便开始项目协作。
  - **Acceptance Criteria:**
    - [ ] PM可以创建项目，填写项目名称、地址、业主手机号
    - [ ] 创建成功后自动向业主发送邀请短信
    - [ ] 短信包含项目信息和注册链接
    - [ ] 业主通过链接可直接注册并加入项目
    - [ ] 项目创建者自动成为该项目的PM

- **User Story:** 作为项目经理，我希望能够邀请工人加入项目，以便组建完整的项目团队。
  - **Acceptance Criteria:**
    - [ ] PM可以通过手机号邀请工人
    - [ ] 工人收到邀请短信并可注册加入
    - [ ] 一个项目可以邀请多个工人
    - [ ] 项目成员列表实时更新
    - [ ] 所有成员都能看到项目仪表盘

- **User Story:** 作为业主，我希望能够看到项目的基本信息和参与成员，以便了解项目概况。
  - **Acceptance Criteria:**
    - [ ] 业主可以查看项目名称、地址等基本信息
    - [ ] 显示项目经理和工人的头像、昵称
    - [ ] 显示项目创建时间和当前状态

## Epic: 项目协同看板

- **User Story:** 作为项目经理，我希望能够创建和管理任务，以便合理安排施工进度。
  - **Acceptance Criteria:**
    - [ ] PM可以创建新任务，填写任务名称、描述
    - [ ] 可以设置任务的预计起止日期
    - [ ] 可以将任务分配给特定工人
    - [ ] 可以设置任务优先级或阶段分类
    - [ ] 支持任务信息的编辑和删除

- **User Story:** 作为项目参与者，我希望能够看到项目的整体进度和任务状态，以便了解项目推进情况。
  - **Acceptance Criteria:**
    - [ ] 以看板形式展示所有任务（待开始/进行中/待验收/已完成）
    - [ ] 任务卡片显示关键信息：名称、负责人、预计工期、当前状态
    - [ ] 支持按状态、负责人、时间等维度筛选任务
    - [ ] 任务状态变更时实时更新看板
    - [ ] 移动端友好的交互体验

- **User Story:** 作为工人，我希望能够查看分配给我的任务详情，以便明确工作要求。
  - **Acceptance Criteria:**
    - [ ] 工人只能看到分配给自己的任务
    - [ ] 任务详情页显示完整的任务描述和要求
    - [ ] 显示任务的预计工期和截止时间
    - [ ] 可以查看任务相关的图纸或参考资料

## Epic: 任务执行与验收流程

- **User Story:** 作为工人，我希望能够开始任务并记录施工进度，以便让其他人了解工作状态。
  - **Acceptance Criteria:**
    - [ ] 工人可以点击"开始施工"按钮启动任务
    - [ ] 任务状态自动变更为"进行中"
    - [ ] 相关人员收到任务开始的通知
    - [ ] 记录任务实际开始时间

- **User Story:** 作为工人，我希望能够上传施工照片和填写日志，以便记录工作过程。
  - **Acceptance Criteria:**
    - [ ] 支持拍照上传，照片自动添加时间水印
    - [ ] 支持从相册选择照片上传
    - [ ] 可以为照片添加简短的文字说明
    - [ ] 照片按时间顺序展示在任务详情中
    - [ ] 上传的照片其他项目成员可以查看

- **User Story:** 作为工人，我希望能够申请任务验收，以便完成工作交付。
  - **Acceptance Criteria:**
    - [ ] 工人可以点击"申请验收"按钮
    - [ ] 任务状态变更为"待验收"
    - [ ] PM收到验收申请通知
    - [ ] 记录申请验收的时间

- **User Story:** 作为项目经理，我希望能够审核工人的验收申请，以便确保施工质量。
  - **Acceptance Criteria:**
    - [ ] PM收到验收通知后可查看任务详情
    - [ ] 可以查看工人上传的所有照片和日志
    - [ ] 可以选择"验收通过"或"驳回"
    - [ ] 验收通过时任务状态变为"已完成"
    - [ ] 驳回时必须填写驳回理由，任务退回"进行中"状态
    - [ ] 验收结果通知相关人员

- **User Story:** 作为业主，我希望能够了解验收过程和结果，以便掌握施工质量。
  - **Acceptance Criteria:**
    - [ ] 业主可以查看所有任务的验收状态
    - [ ] 可以查看PM的验收意见和建议
    - [ ] 收到任务完成的通知
    - [ ] 可以查看完工后的照片记录

## Epic: 施工打卡与照片记录

- **User Story:** 作为工人，我希望能够方便地记录每日施工情况，以便建立工作档案。
  - **Acceptance Criteria:**
    - [ ] 支持每日施工打卡功能
    - [ ] 打卡时可以上传当日施工照片
    - [ ] 可以填写简短的施工日志或备注
    - [ ] 照片自动添加拍摄时间和地理位置信息
    - [ ] 支持批量上传多张照片

- **User Story:** 作为业主，我希望能够随时查看工地的施工情况，以便了解项目进展。
  - **Acceptance Criteria:**
    - [ ] 业主可以查看所有施工照片，按时间排序
    - [ ] 照片显示拍摄时间和对应的任务
    - [ ] 支持照片的放大查看
    - [ ] 可以按日期或任务筛选照片
    - [ ] 新照片上传时业主收到通知

## Epic: 项目群聊沟通

- **User Story:** 作为项目参与者，我希望能够在项目群聊中与其他成员沟通，以便及时解决问题。
  - **Acceptance Criteria:**
    - [ ] 每个项目自动创建专属群聊
    - [ ] 项目所有成员自动加入群聊
    - [ ] 支持发送文字、图片、语音消息
    - [ ] 支持@特定成员功能
    - [ ] 消息按时间顺序显示，显示发送者信息

- **User Story:** 作为项目参与者，我希望群聊记录能够保存和搜索，以便查找历史沟通内容。
  - **Acceptance Criteria:**
    - [ ] 所有聊天记录云端保存
    - [ ] 支持关键词搜索聊天记录
    - [ ] 可以查看消息发送时间和状态
    - [ ] 重要消息可以标记或置顶
    - [ ] 离线消息同步功能

## Epic: 支出记录工具

- **User Story:** 作为项目经理或业主，我希望能够记录项目相关支出，以便控制预算。
  - **Acceptance Criteria:**
    - [ ] 可以添加支出记录，包含金额、收款方、费用类型
    - [ ] 支持上传支付截图作为凭证
    - [ ] 可以设置支出分类（人工费/材料费/其他）
    - [ ] 显示项目总支出和预算对比
    - [ ] 支持按时间、类型筛选支出记录

- **User Story:** 作为业主，我希望能够查看详细的财务报表，以便了解资金使用情况。
  - **Acceptance Criteria:**
    - [ ] 生成支出汇总报表
    - [ ] 按费用类型显示支出占比
    - [ ] 显示预算执行进度
    - [ ] 支持导出支出明细
    - [ ] 预算超支时给出提醒
